var J=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var L=(n,t,o)=>t in n?J(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o,S=(n,t)=>{for(var o in t||(t={}))U.call(t,o)&&L(n,o,t[o]);if(B)for(var o of B(t))q.call(t,o)&&L(n,o,t[o]);return n},z=(n,t)=>K(n,Q(t));var C=(n,t,o)=>new Promise((c,i)=>{var h=d=>{try{m(o.next(d))}catch(_){i(_)}},u=d=>{try{m(o.throw(d))}catch(_){i(_)}},m=d=>d.done?c(d.value):Promise.resolve(d.value).then(h,u);m((o=o.apply(n,t)).next())});import{p as E,l as H,B as w,a1 as X,w as Y,b as Z}from"./index-59f8fabe.js";import{B as ee}from"./BasicForm-adcd46e9.js";import"./componentMap-95d9f68b.js";import{u as te}from"./useForm-552b1b9b.js";import"./RadioButtonGroup-790e54c8.js";import{k as g,d as D,e as I,o as ae,_ as F,$ as se,a0 as y,f as a,u as e,a9 as s,R as oe,ac as ne,G as re,E as x,a2 as ie,a1 as le,a8 as pe}from"./vue-bfa52d01.js";import{aw as O,a8 as P,bl as ce,V as $,aK as ue,bm as de,b0 as me,aE as fe,bn as ge,bo as he,af as _e}from"./antd-2cb51430.js";import{P as ve}from"./index-dd339bf6.js";import{d as be}from"./table-396d84e5.js";import"./FormItem.vue_vue_type_script_lang-1b2c7fe1.js";import"./index-454d5d36.js";import"./index-b471d44b.js";import"./uniqBy-03306adf.js";import"./index-36d5da49.js";import"./useWindowSizeFn-50158f48.js";import"./useFormItem-bb83f293.js";import"./uuid-31b8b5a4.js";import"./download-8878c743.js";import"./base64Conver-39fc0d26.js";import"./index-b4bf844b.js";import"./IconPicker.vue_vue_type_style_index_0_lang-3b9b63c2.js";import"./useCopyToClipboard-6f678e69.js";import"./index-cbb60a0f.js";import"./useContentViewHeight-30ed4137.js";import"./onMountedOrActivated-6ab1435a.js";const b=g(12),ye=(n=6,t=12)=>({min:n,max:t,marks:(()=>{const c={};for(let i=n;i<t+1;i++)c[i]={style:{color:"#fff"},label:i};return c})(),step:1}),Ce={class:"p-2"},we={class:"p-4 mb-2 bg-white"},xe={class:"p-2 bg-white"},Me={class:"flex justify-end space-x-2"},Se=y("div",{class:"w-50"},"每行显示数量",-1),ke=D({__name:"CardList",props:{params:E.object.def({}),api:E.func},emits:["getMethod","delete"],setup(n,{emit:t}){const o=n,c=O.Item,i=P.Meta,h=ce.Text,u=I(()=>ye(4)),m=g([]),d=I(()=>`h-${120-b.value*6}`),[_,{validate:R}]=te({schemas:[{field:"type",component:"Input",label:"类型"}],labelWidth:80,baseColProps:{span:6},actionColOptions:{span:24},autoSubmitOnEnter:!0,submitFunc:V});function V(){return C(this,null,function*(){const r=yield R();yield f(r)})}function N(r){v.value=r*4,f()}ae(()=>{f(),t("getMethod",f)});function f(){return C(this,arguments,function*(r={}){const{api:l,params:p}=o;if(l&&H(l)){const T=yield l(S(z(S({},p),{page:M.value,pageSize:v.value}),r));m.value=T.items,k.value=T.total}})}const M=g(1),v=g(36),k=g(0),j=g({showSizeChanger:!1,showQuickJumper:!0,pageSize:v,current:M,total:k,showTotal:r=>`总 ${r} 条`,onChange:A,onShowSizeChange:G});function A(r,l){M.value=r,v.value=l,f()}function G(r,l){v.value=l,f()}function W(r){return C(this,null,function*(){t("delete",r)})}return(r,l)=>(F(),se("div",Ce,[y("div",we,[a(e(ee),{onRegister:e(_)},null,8,["onRegister"])]),y("div",xe,[a(e(O),{grid:{gutter:5,xs:1,sm:2,md:4,lg:4,xl:6,xxl:e(b)},"data-source":m.value,pagination:j.value},{header:s(()=>[y("div",Me,[oe(r.$slots,"header"),a(e($),null,{title:s(()=>[Se,a(e(ue),ne({id:"slider"},e(u),{value:e(b),"onUpdate:value":l[0]||(l[0]=p=>re(b)?b.value=p:null),onChange:N}),null,16,["value"])]),default:s(()=>[a(e(w),null,{default:s(()=>[a(e(de))]),_:1})]),_:1}),a(e($),{onClick:f},{title:s(()=>[x("刷新")]),default:s(()=>[a(e(w),null,{default:s(()=>[a(e(me))]),_:1})]),_:1})])]),renderItem:s(({item:p})=>[a(e(c),null,{default:s(()=>[a(e(P),null,{title:s(()=>[]),cover:s(()=>[y("div",{class:ie(e(d))},[a(e(fe),{src:p.imgs[0]},null,8,["src"])],2)]),actions:s(()=>[a(e(ge),{key:"edit"}),a(e(X),{trigger:["hover"],dropMenuList:[{text:"删除",event:"1",popConfirm:{title:"是否确认删除",confirm:W.bind(null,p.id)}}],popconfirm:""},{default:s(()=>[a(e(he),{key:"ellipsis"})]),_:2},1032,["dropMenuList"])]),default:s(()=>[a(e(i),null,{title:s(()=>[a(e(h),{content:p.name,ellipsis:{tooltip:p.address}},null,8,["content","ellipsis"])]),avatar:s(()=>[a(e(_e),{src:p.avatar},null,8,["src"])]),description:s(()=>[x(le(p.time),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:3},8,["grid","data-source","pagination"])])]))}}),Te=Y(ke),et=D({__name:"index",setup(n){const{notification:t}=Z(),o={};let c=()=>{};function i(u){c=u}function h(u){console.log(u),t.success({message:`成功删除${u}`}),c()}return(u,m)=>(F(),pe(e(ve),{title:"卡片列表示例",content:"基础封装"},{default:s(()=>[a(e(Te),{params:o,api:e(be),onGetMethod:i,onDelete:h},{header:s(()=>[a(e(w),{type:"primary",color:"error"},{default:s(()=>[x(" 按钮1 ")]),_:1}),a(e(w),{type:"primary",color:"success"},{default:s(()=>[x(" 按钮2 ")]),_:1})]),_:1},8,["api"])]),_:1}))}});export{et as default};
