var P=Object.defineProperty;var m=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var u=(t,o,e)=>o in t?P(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,f=(t,o)=>{for(var e in o||(o={}))v.call(o,e)&&u(t,e,o[e]);if(m)for(var e of m(o))I.call(o,e)&&u(t,e,o[e]);return t};var d=(t,o,e)=>new Promise((l,s)=>{var p=a=>{try{n(e.next(a))}catch(r){s(r)}},c=a=>{try{n(e.throw(a))}catch(r){s(r)}},n=a=>a.done?l(a.value):Promise.resolve(a.value).then(p,c);n((e=e.apply(t,o)).next())});import{B as F,a as N}from"./index-36d5da49.js";import{B as S}from"./BasicForm-adcd46e9.js";import"./componentMap-95d9f68b.js";import{u as k}from"./useForm-552b1b9b.js";import"./RadioButtonGroup-790e54c8.js";import{n as w,d as y,k as D,e as T,u as g,a7 as b,_ as x,a8 as R,a9 as $,f as C,ac as q}from"./vue-bfa52d01.js";import{a7 as L}from"./antd-2cb51430.js";import{a as O}from"./system-cec1b8f5.js";import{_ as V}from"./index-59f8fabe.js";const ee=[{title:"部门名称",dataIndex:"deptName",width:160,align:"left"},{title:"排序",dataIndex:"orderNo",width:50},{title:"状态",dataIndex:"status",width:80,customRender:({record:t})=>{const e=~~t.status===0,l=e?"green":"red",s=e?"启用":"停用";return w(L,{color:l},()=>s)}},{title:"创建时间",dataIndex:"createTime",width:180},{title:"备注",dataIndex:"remark"}],te=[{field:"deptName",label:"部门名称",component:"Input",colProps:{span:8}},{field:"status",label:"状态",component:"Select",componentProps:{options:[{label:"启用",value:"0"},{label:"停用",value:"1"}]},colProps:{span:8}}],j=[{field:"deptName",label:"部门名称",component:"Input",required:!0},{field:"parentDept",label:"上级部门",component:"TreeSelect",componentProps:{fieldNames:{label:"deptName",key:"id",value:"id"},getPopupContainer:()=>document.body},required:!0},{field:"orderNo",label:"排序",component:"InputNumber",required:!0},{field:"status",label:"状态",component:"RadioButtonGroup",defaultValue:"0",componentProps:{options:[{label:"启用",value:"0"},{label:"停用",value:"1"}]},required:!0},{label:"备注",field:"remark",component:"InputTextArea"}],A=y({name:"DeptModal",components:{BasicModal:F,BasicForm:S},emits:["success","register"],setup(t,{emit:o}){const e=D(!0),[l,{resetFields:s,setFieldsValue:p,updateSchema:c,validate:n}]=k({labelWidth:100,baseColProps:{span:24},schemas:j,showActionButtonGroup:!1}),[a,{setModalProps:r,closeModal:h}]=N(i=>d(this,null,function*(){s(),r({confirmLoading:!1}),e.value=!!(i!=null&&i.isUpdate),g(e)&&p(f({},i.record));const M=yield O();c({field:"parentDept",componentProps:{treeData:M}})})),_=T(()=>g(e)?"编辑部门":"新增部门");function B(){return d(this,null,function*(){try{const i=yield n();r({confirmLoading:!0}),console.log(i),h(),o("success")}finally{r({confirmLoading:!1})}})}return{registerModal:a,registerForm:l,getTitle:_,handleSubmit:B}}});function G(t,o,e,l,s,p){const c=b("BasicForm"),n=b("BasicModal");return x(),R(n,q(t.$attrs,{onRegister:t.registerModal,title:t.getTitle,onOk:t.handleSubmit}),{default:$(()=>[C(c,{onRegister:t.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}const U=V(A,[["render",G]]),oe=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"}));export{U as D,oe as a,ee as c,te as s};
