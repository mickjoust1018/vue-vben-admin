var te=Object.defineProperty,oe=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var j=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W=(e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&j(e,n,t[n]);if(M)for(var n of M(t))re.call(t,n)&&j(e,n,t[n]);return e},q=(e,t)=>oe(e,ne(t));var G=(e,t,n)=>new Promise((F,u)=>{var b=r=>{try{i(n.next(r))}catch(H){u(H)}},p=r=>{try{i(n.throw(r))}catch(H){u(H)}},i=r=>r.done?F(r.value):Promise.resolve(r.value).then(b,p);i((n=n.apply(e,t)).next())});import{f as X,n as se,_ as Z,q as ie,m as ce,r as ge,p as d,P as le,w as O}from"./index-59f8fabe.js";import{d as Q,_ as E,$ as V,a0 as A,R as _,a2 as T,af as Y,k,w as x,q as I,u as $,G as ue,p as fe,e as C,a7 as J,a8 as K,ae as de,aa as pe,a9 as N,ad as he,ag as me,F as He,E as Ce,a1 as $e,ac as Fe,ab as L}from"./vue-bfa52d01.js";import{u as be}from"./useContentViewHeight-30ed4137.js";import{o as ye}from"./onMountedOrActivated-6ab1435a.js";import{u as _e}from"./useWindowSizeFn-50158f48.js";import{ap as Pe,J as U}from"./antd-2cb51430.js";const ve=Q({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=X("page-footer"),{getCalcContentWidth:t}=se();return{prefixCls:e,getCalcContentWidth:t}}});function Se(e,t,n,F,u,b){return E(),V("div",{class:T(e.prefixCls),style:Y({width:e.getCalcContentWidth})},[A("div",{class:T(`${e.prefixCls}__left`)},[_(e.$slots,"left",{},void 0,!0)],2),_(e.$slots,"default",{},void 0,!0),A("div",{class:T(`${e.prefixCls}__right`)},[_(e.$slots,"right",{},void 0,!0)],2)],6)}const ee=Z(ve,[["render",Se],["__scopeId","data-v-8563d90b"]]);function we(e,t,n,F,u=0,b=k(0)){const p=k(null),{footerHeightRef:i}=be();let r={useLayoutFooter:!0};const H=a=>{r=a};function z(){I(()=>{R()})}function P(a,v="all"){var l,m,S,y;function h(o){return Number(o.replace(/[^\d]/g,""))}let g=0;const f="0px";if(a){const o=getComputedStyle(a),c=h((l=o==null?void 0:o.marginTop)!=null?l:f),s=h((m=o==null?void 0:o.marginBottom)!=null?m:f),B=h((S=o==null?void 0:o.paddingTop)!=null?S:f),D=h((y=o==null?void 0:o.paddingBottom)!=null?y:f);v==="all"?(g+=c,g+=s,g+=B,g+=D):v==="top"?(g+=c,g+=B):(g+=s,g+=D)}return g}function w(a){return a==null?null:a instanceof HTMLDivElement?a:a.$el}function R(){return G(this,null,function*(){var y;if(!e.value)return;yield I();const a=w($(t));if(!a)return;const{bottomIncludeBody:v}=ie(a);let h=0;n.forEach(o=>{var c,s;h+=(s=(c=w($(o)))==null?void 0:c.offsetHeight)!=null?s:0});let g=(y=P(a))!=null?y:0;F.forEach(o=>{g+=P(w($(o)))});let f=0;function l(o,c){if(o&&c){const s=o.parentElement;s&&(ce(c)?s.classList.contains(c)?f+=P(s,"bottom"):(f+=P(s,"bottom"),l(s,c)):ge(c)&&c>0&&(f+=P(s,"bottom"),l(s,--c)))}}ue(u)?l(a,$(u)):l(a,u);let m=v-$(i)-$(b)-h-g-f;const S=()=>{var o;(o=r.elements)==null||o.forEach(c=>{var s,B;m+=(B=(s=w($(c)))==null?void 0:s.offsetHeight)!=null?B:0})};r.useLayoutFooter&&$(i)>0,S(),p.value=m})}return ye(()=>{I(()=>{R()})}),_e(()=>{R()},{wait:50,immediate:!0}),x(()=>[i.value],()=>{R()},{flush:"post",immediate:!0}),{redoHeight:z,setCompensation:H,contentHeight:p}}const Re=Q({name:"PageWrapper",components:{PageFooter:ee,PageHeader:Pe},inheritAttrs:!1,props:{title:d.string,dense:d.bool,ghost:d.bool,content:d.string,contentStyle:{type:Object},contentBackground:d.bool,contentFullHeight:d.bool,contentClass:d.string,fixedHeight:d.bool,upwardSpace:d.oneOfType([d.number,d.string]).def(0)},setup(e,{slots:t,attrs:n}){const F=k(null),u=k(null),b=k(null),p=k(null),{prefixCls:i}=X("page-wrapper");fe(le,C(()=>e.fixedHeight));const r=C(()=>e.contentFullHeight),H=C(()=>e.upwardSpace),{redoHeight:z,setCompensation:P,contentHeight:w}=we(r,F,[u,p],[b],H);P({useLayoutFooter:!0,elements:[p]});const R=C(()=>{var l;return[i,{[`${i}--dense`]:e.dense},(l=n.class)!=null?l:{}]}),a=C(()=>e.content||(t==null?void 0:t.headerContent)||e.title||h.value.length),v=C(()=>(t==null?void 0:t.leftFooter)||(t==null?void 0:t.rightFooter)),h=C(()=>Object.keys(U(t,"default","leftFooter","rightFooter","headerContent"))),g=C(()=>{const{contentFullHeight:l,contentStyle:m,fixedHeight:S}=e;if(!l)return W({},m);const y=`${$(w)}px`;return W(q(W({},m),{minHeight:y}),S?{height:y}:{})}),f=C(()=>{const{contentBackground:l,contentClass:m}=e;return[`${i}-content`,m,{[`${i}-content-bg`]:l}]});return x(()=>[v.value],()=>{z()},{flush:"post",immediate:!0}),{getContentStyle:g,wrapperRef:F,headerRef:u,contentRef:b,footerRef:p,getClass:R,getHeaderSlots:h,prefixCls:i,getShowHeader:a,getShowFooter:v,omit:U,getContentClass:f}}});function ke(e,t,n,F,u,b){const p=J("PageHeader"),i=J("PageFooter");return E(),V("div",{class:T(e.getClass),ref:"wrapperRef"},[e.getShowHeader?(E(),K(p,Fe({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),de({default:N(()=>[e.content?(E(),V(He,{key:0},[Ce($e(e.content),1)],64)):_(e.$slots,"headerContent",{key:1})]),_:2},[pe(e.getHeaderSlots,r=>({name:r,fn:N(H=>[_(e.$slots,r,he(me(H||{})))])}))]),1040,["ghost","title"])):L("",!0),A("div",{class:T(["overflow-hidden",e.getContentClass]),style:Y(e.getContentStyle),ref:"contentRef"},[_(e.$slots,"default")],6),e.getShowFooter?(E(),K(i,{key:1,ref:"footerRef"},{left:N(()=>[_(e.$slots,"leftFooter")]),right:N(()=>[_(e.$slots,"rightFooter")]),_:3},512)):L("",!0)],2)}const Be=Z(Re,[["render",ke]]);O(ee);const Ae=O(Be);export{Ae as P};
